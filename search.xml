<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[文件包含及漏洞利用]]></title>
    <url>%2F2019%2F08%2F09%2F%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E5%8F%8A%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%2F</url>
    <content type="text"><![CDATA[文件包含漏洞产生的原因：文件包含漏洞主要是程序员把一些公用的代码写在一个单独的文件中，然后使用其他文件进行包含调用，如果需要包含的文件使用硬编码，一般是不会出现安全问题，但是有时可能不确定需要包含哪些具体文件，所以就会采用变量的形式来传递需要包含的文件，但是在使用包含文件的过程中，未对包含的变量进行检查及过滤，导致外部提交的恶意数据作为变量进入到了文件包含的过程中，从而导致提交的恶意数据被执行。 文件包含漏洞的分类：1.本地文件包含(Loacl File Inclusion,LFI)2.远程文件包含(Remote File Inclusion,RFI)文件包含漏洞的危害：通过文件包含漏洞，可以读取系统中的敏感文件，源代码文件等，如密码文件，通过对密码文件进行暴力破解。若破解成功则可获取操作系统的用户账户，甚至可通过开放的远程连接服务进行连接控制。另外不管是本地文件包含还是远程文件包含，文件包含漏洞还可能导致执行任意代码。 本地文件包含：本地文件包含就是通过浏览器包含web服务器上的文件，这种漏洞是因为浏览器包含文件时没有进行严格的过滤，允许遍历目录的字符注入浏览器并执行。 首先，当值可以直接被控制时，你就会有一个非常类似的如下的代码片段： 12$ file = $ _GET [&apos;file&apos;];include ($ file); 如果你可以找到上面的代码，那么就有一个直接包含的$文件，你可以控制它。请注意：该文件可以是任何类型，无论它是被删除的文件类型、图片还是任意的内容，都包括在内。 首先，在当前文件夹中创建任意后缀的任意文件，如：file.txt（即使是像file.jpg这样的图片格式，则会产生以下效果）。将文件的内容设置为：phpinfo (); 此时，文件包含漏洞还包含当前服务器中的其他文件，同时支持包含Web应用程序的目录，如下所示：尝试包括你的硬盘的一些内容，例如：C:\WINDOWS\system.ini。 如果你这样做，就可以在浏览器上看到任何文件的输出内容。这只有当你有完全控制和文件类型没有进一步指定时才有效。 那么，如果代码片段变成如下这样，你该怎么做？ 123$file = $_GET[&apos;file&apos;] . &apos;.php&apos;;echo $file;include($file); 在这种情况下，你可以尝试按照上面的方法：这将导致以下的输出： 你可以看到，如果后缀是固定的，就像上图一样，你不会找到前面包含的文件。 所以这里有另一种方法：％00到达时截断一个字符串。这个技巧也被广泛应用于不同的领域 在PHP中使用％00：1.PHP版本2.PHP magic_quotes_gpc = off;3.PHP不会在收到的参数中使用addslashes函数，例如上面代码中的$ _GET [‘file’]，不过在PHP版本5.3或更高版本中，此问题已得到解决。 如果打开gpc或者使用了加法器函数，序列将被正确地转义。首先，你可以尝试如果gpc打开会发生什么（效果与使用该函数相同）。 如果你启用了gpc标志，你可以直接看到这个过程是如何发生的。 接下来可以看看5.3版本中的情况： 这里也没有明显的效果。所以你可以看到，只要满足上述三个条件，就可以使用％00。 首先，你要将PHP版本更改为5.2，并在php.ini更改为 magic_quotes_gpc = on tomagic_quotes_gpc = off.后重新启动Apache。这使你就能够在尝试时使用截断。 这时可以看到，你已经成功地使用了其中的截断。 那么文件只包含了包含的功能吗？当然不是，之所以会这样，是因为你可以控制可以包含的内容。你可以创建一个文件：shell.txt来进一步利用这个漏洞。 你可以看到，其中也包括了shell。那么两者有什么区别呢？其实没有什么区别，原理是一样的，但是第一个是用后缀来介绍的，第二个是固定在程序后缀后面的。但是可以使用％00，因为当程序流（program stream ）遇到％00终止符(terminator)时它会直接终止。 远程文件包含：远程文件包含就是允许攻击者包含一个远程的文件,一般是在远程服务器上预先设置好的脚本。 此漏洞是因为浏览器对用户的输入没有进行检查，导致不同程度的信息泄露、拒绝服务攻击 甚至在目标服务器上执行代码。 本地文件包含与远程文件有着相同的原理，但前者只能包含服务器上存在的文件，而后者可以包含远程服务器上的文件。 对于远程文件，你需要考虑以下2点：1.在php.ini中需要allow_url_include = on和allow_url_fopen= on2.所需的远程文件后缀不能与目标服务器的语言相同，如目标服务器解析PHP代码，则远程文件后缀不能为.php。 让我解释一下第二点，如果你的远程文件具有.php后缀，并且你的远程文件内容如下所示： 1phpinfo (); 那么在远程服务器执行phpinfo()之后，你就可以获得目标服务器的内容。由于它不会运行代码，所以包含的信息不是目标服务器，而是远程服务器。如下所示： 这是我的PHP5.6版本的远程设备信息，目标设备是5.2版本。 接下来是包含文件： 你可以看到，包含文件后，你的远程设备发生了变化，这是为什么呢?由于目标服务器不包含此代码：此时，远程服务器会执行此代码的源代码，如下所示： 所以为了使这个攻击开始运行，你需要做一些修改： 1.修改配置 2.修改文件后缀 此时，你可以再来尝试一下包含的攻击向量： 那么你可以看到所需的信息在此包含之后返回，并且你的目标设备信息不再改变。 接下来，你要再次为远程文件包含做一个shell示例。 远程文件包含使用的前提是，符合本地文件包含的前提并符合远程文件包含其可用性的前提。 文件包含许多伪协议文件中可以包含不同的伪协议，我将在下面演示其中的一些： 1.data:text/plain or data: text/plain; base64data:text/plain 输出直接显示在相应的URL中，显示参数：data：text / plain。 然后你需要执行如下所示的php代码： data：text/plain; BASE64 有另一种方法来使用data: text/plain; base64，不过此时你需要使用base64编码来执行PHP代码，base64php代码如下所示： 2.php://inputphp://input访问请求的原始数据的只读流（read-only stream），会将post请求中的数据作为php代码执行。 你可以看到程序自动添加了一个.php后缀，因此使用包括php://input，将自动添加.php，所以它肯定不能正常工作。 此时，你可以参考以上的％00技巧来截断文件路径。 你可以看到终止符(terminator)是非常强大的。 3.php://filterphp://filter可以读取php文件的代码base64编码的输出并将其返回给你。 例如，你想读取一个PHP文件，但不希望它是正常的PHP。你可以通过php：//filter/read=convert.base64-encode/resource=../ 读取文件代码的内容。 解码base64后，你可以像正常情况一样获取内容： 4.file://file://用于访问本地文件系统，不受allow_url_fopen orallow_url_include的影响，你可以使用file:// absolute / path / to / file来获取。 5.zip://zip://可以访问zip文件中的文件，但它需要一个绝对路径。你可以使用zip://[archive absolute path] # [compressed file name]在本地创建一个文件并将其压缩到一个zip压缩文件中。 此时，你就可以填入绝对路径和文件的名称了。那么，你可能会有两个疑问？1.为什么你不能成功显示包括zip://的错误？这其中就包含zip://C:/phpStudy/WWW/include/phpinfo.zip.php，这是因为你不想包含这个文件，而是想把这个文件包含在zip里。2.为什么是＃以后的值？因为＃会忽略它后面的参数，所以你需要在表单中使用％23。还有一点就是，包含的文件以.php结尾，但你压缩了php后缀的文件。所以如下所示，你不需要这个后缀。]]></content>
      <categories>
        <category>渗透测试</category>
      </categories>
      <tags>
        <tag>文件包含</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[记一次FOFA查看各地摄像头]]></title>
    <url>%2F2019%2F08%2F08%2F%E8%AE%B0%E4%B8%80%E6%AC%A1FOFA%E6%9F%A5%E7%9C%8B%E5%90%84%E5%9C%B0%E6%91%84%E5%83%8F%E5%A4%B4%2F</url>
    <content type="text"><![CDATA[FOFA的介绍和使用方法在前面的文章中已经写过了。今天主要介绍一下利用FOFA来搜索网络上世界各地的摄像头。 方法其实很简单，直接搜关键字就行，比如摄像头的品牌，甚至直接输入“摄像头”，在下面的结果中直接点击相应的连接即可。如图所示 接下来进入了摄像头登陆界面。这里登陆的方法很多，可以利用万能密码，可以爆破，可以手动尝试弱密码，可以利用网上爆出的相关型号版本漏洞绕过登陆等。就不详细介绍每种方法了。下面放几个我登录的成功界面。]]></content>
      <categories>
        <category>杂七杂八</category>
      </categories>
      <tags>
        <tag>FOFA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FOFA简介及使用教程]]></title>
    <url>%2F2019%2F08%2F08%2FFOFA%E7%AE%80%E4%BB%8B%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[FOFA 是什么？FOFA 是白帽汇推出的一款网络空间搜索引擎,它通过进行网络空间测绘,能够帮助研究人员或者企业迅速进行网络资产匹配,例如进行漏洞影响范围分析、应用分布统计、应用流行度等。FOFA 搜索引擎检索到的内容主要是服务器，数据库，某个网站管理后台，路由器，交换机，公共ip的打印机，网络摄像头，门禁系统，Web服务 ……FOFA 这类搜索引擎又有另一个名字：网络空间测绘系统。—— 它们就像是现实生活中的卫星地图那样，一点点勾勒出公共网络空间的样子，每一个网站、每一台公共环境下的服务器……当一个高危漏洞爆发，FOFA系统便能向卫星定位地址一样，通过特征迅速找到全网的脆弱设备。网站：https://fofa.so/ FOFA不仅提供了在线搜索还提供了FOFA Pro客户端版本 注意：1) 普通会员和高级会员的 免费100条 和 免费10000条 是指每天调用API可以免费获取前100条和前10000条,假设高级会员调用API,每页获取3333条，第1、2、3页由于没有超过前10000条，所以免费，第4页超过前10000条，所以会扣除1FOFA币。2) 直接下载数据，无论多少条数据，都要花费FOFA币。普通会员300 高级会员1000 终身制 。 查询语法介绍1、怎么搜？首先FOFA作为一个搜索引擎，我们要熟悉它的查询语法，类似google语法，FOFA的语法也是简单易懂，主要分为检索字段以及运算符，所有的查询语句都是由这两种元素组成的。目前支持的检索字段包括：domain，host，ip，title，server，header，body，port，cert，country，city，os，appserver，middleware，language，tags，user_tag等等，支持的逻辑运算符包括：= ，==，!= ，&amp;&amp;，||。了解了检索字段和逻辑运算符之后，就基本掌握了FOFA的用法了。例如搜索title字段中存在后台的网站，我们只需要在输入栏中输入title=”后台”，输出的结果即为全网title中存在后台两个字的网站，对于黑客而言，可以利用得到的信息可以继续进行渗透攻击，对于网站的后台进行密码暴力破解，密码找回等等攻击行为，这样就可以轻松愉快的开始一次简单渗透攻击之旅，而企业用户也可以利用得到的信息进行内部的弱口令排查等等，防范于未然。 下面为大家一一介绍目前支持的所有检索字段的用法： 1.1 domain例:搜索QQ所有的子域名 : domain=”qq.com” 1.2 host例:搜索host内所有带有qq.com的域名: host=”qq.com” 1.3 ip例:搜索某个IP上的相关信息 ip=”58.63.236.248”支持IP段搜索ip=”111.1.1.1/8”ip=”111.1.1.1/16”ip=”111.1.1.1/24” 1.4 title例:搜索title包含有”漏洞”的IP title=”漏洞” 1.5 server例:Apache出来了一个高危漏洞,我们需要去统计全球的Apache server=”Apache” 1.6 header例:搜索前段时间非常火的海康威视 header=”Hikvision” 1.7 body例:假如我想搜索微博的后台,域名为:weibo.com并且网页内body包含”后台” body=”后台” &amp;&amp; domain=”weibo.com” &amp;&amp;:与body=”后台” &amp;&amp; domain=”weibo.com” 提取域名为:weibo.com并且网页内body包含”后台”的网站 需要同时满足两个条件 1.8 port例:想要找非80端口 port!=”80” !=: port!=”80”匹配端口不为80端口的服务 1.9 cert搜索证书(https或者imaps等) 例:百度公司为了检查自己的域名是否还有心脏出血漏洞可以使用语法: cert=”baidu” 1.10country搜索指定国家(编码)的资产 例:搜索中国的服务器 country=”CN” 注:country=”CN” country后面的规则为各国家的缩写,全球国家缩写如下链接: https://zhidao.baidu.com/question/538403206.html 1.11 city搜索指定城市的资产 例:搜索上海的服务器 city=”Shanghai” 注:搜索城市时填写城市的全称,首字母必须大写! 1.12 os例:搜索centos所有主机 os=”centos” 了解了基础查询我们再来谈谈高级查询，其实也很简单，就是多个基础查询语句用逻辑连接符拼成的语句，例如我们要搜索上海的Discus组件，搜索语句是(title=”Discuz”||body=”content=”Discuz”) &amp;&amp; city=”Shanghai” &amp;&amp;:逻辑与||：逻辑或上面的语句意思为 (title=”Discuz”||body=”content=”Discuz”)与city=”Shanghai”这两个条件必须同时满足，(title=”Discuz”||body=”content=”Discuz”)中title=”Discuz” 与body=”content=”Discuz”满足一个即可。利用高级搜索可以更细致的了解网络空间中每个用户关注的资产信息。 2、搜什么？FOFA可以从不同维度搜索网络组件，例如地区，端口号，网络服务，操作系统，网络协议等等。目前FOFA支持了多个网络组件的指纹识别，包括建站模块、分享模块、各种开发框架、安全监测平台、项目管理系统、企业管理系统、视频监控系统、站长平台、电商系统、广告联盟、前端库、路由器、SSL证书、服务器管理系统、CDN、Web服务器、WAF、CMS等等，详细信息可见（https://fofa.so/library）。 网站模块pagespeed， mod_bwlimited， mod_auth_passthrough， mod_auth_pam， mod_fastcgi， mod_jk， mod_perl， mod_python， mod_rack， mod_rails， mod_ssl， mod_wsgi， mod_antiloris， 广告联盟doubleclick_ad， baidu广告联盟， Google_AdSense， Open_AdStream， adinfinity， adriver， 反向代理服务器squid， kangle反向代理， Varnish， Aicache， SJSWPS_ OiWPS， HAProxy_Report， 脚本语言PHP， ASP.NET， python， ruby， jsp， perl， nodejs， ASP， 前端库jquery， bootstrap， d3， jquery-ui， yui， AlloyUI， 分享模块jiathis， ujian， 百度分享， joomla-facebook， addthis， hellobar， 路由器百为路由， 锐捷NBR路由器， mikrotik， 中兴路由器， h3c路由器， jcg无线路由器， D-Link_VoIP_Wireless_Router， arrisi_Touchstone， ZyXEL， Ruckus， Motorola_SBG900， Wimax_CPE， Cisco_Cable_Modem， Scientific-Atlanta_Cable_Modem， rap， ZTE_MiFi_UNE， DI-804HV， HuaweiHomeGateway， TP-LINK无线路由器， 云评论uyan， disqus， 统计模块google-analytics， cnzz， baidu统计， 51la， CNZZ统计， awstats_misc_tracker， advancedwebstats， hubspot， 51yes， Piwik， 开发框架ThinkPHP， Swiftlet， Aspnetmvc， CodeIgniter， ColdFusion， WebObjects， cakephp， Django， zikula_framework， NetteFramework， Fat-FreeFramework， Play-Framework， Restlet-Framework， Kohana-Framework， flow_framework， SIMIT_framework， axis2-web， 其他mongodb， elasticsearch， phpMyadmin， MVB2000， GPSweb， Tumblr， phpinfo， AD_RS设备， FrontPageServerExtension， 认证页面， TCN协议， sharepoint， MS-Author-Via， 3COM_NBX， wspx， rack-cache， Dnnoutputcache， Iisexport， Oraclea-DMS， P3p_enabled， X-72e-Nobeian-Transfer， ManagedFusion， Adblock， Blackboard， LiquidGIS， Cocoon， Wp-Super-Cache， pagespeed， Alternate-Protocol， unbouncepages， lemis管理系统， OpenSSL， mod_bwlimited， mod_auth_passthrough， FreeboxOS， SMA_Sunny_Webbox， Wimax_CPE， Aethra_Telecommunications_Operating_System， Scientific-Atlanta_Cable_Modem， rap， ZTE_MiFi_UNE， 用友商战实践平台， moosefs， AirLink_modem， CCProxy， APC_Management， HuaweiHomeGateway， TP-LINK无线路由器， 蓝盾BDWebGuard， 护卫神网站安全系统， phpDocumentor， ColdFusion， Adobe_ CQ5， Adobe_GoLive， Adobe_RoboHelp， Amaya， PHP-CGI， Synology_NAS， OpenMas， __VIEWSTATE， Chromelogger， Communique， recaptcha， IPFire， TerraMaster， 创星伟业校园网群， 正方教务管理系统， UFIDA_NC， 北创图书检索系统， Facebook_insights， squarespace建站， Bad_Behavior， Azure_ARR， Tncms， 北京清科锐华CEMIS， RG-PowerCache内容加速系统， dayrui系列产品， Privoxy代理， wordpress_qTranslate， DVWA， sugon_gridview， blog_fc2， LiteSpeed_Web_Admin_Console， SLTM32_Configuration， SHOUTcast， Piwigo， seeyoo广告机， milu_seotool， Moxa Nport串口服务器， CISCO_EPC3925， CASino， metasploit， SSL证书thawte_ssl_cert， wosign_ssl_cert， webtrust_cert， globalsign_cert， GeoTrust_cert， 安全检测平台360网站安全检测， teamportal， 项目管理jira， fisheye， VisualSVN， Redmine， zentao， Bugzilla， Phabricator， reviewboard， Hudson， Jenkins， testlink， trac， gitlab， mantis， Mercurial， 服务器管理LuManager， 主机宝， wdcp管理系统， LANMP一键安装包， UPUPW， wamp， easypanel， awstats_admin， awstats， uPlusFtp， Cactiez， Cacti， CrushFTP， HFS， WHM， moosefs， LUM服务器管理， 护卫神主机管理， cpanel， bacula-web， Webmin， Directadmin， Synology_DiskStation， Puppet_Node_Manager， 企业管理易瑞授权访问系统， MVB2000， SonicWALL， NetShare_VPN， pmway_E4_crm， srun3000计费认证系统， Dolibarr， Parallels Plesk Panel， EasyTrace(botwave)， 管理易， 亿赛通DLP， huawei_auth_server， 瑞友天翼_应用虚拟化系统 ， Vmware_vFabric， ICEFLOW_VPN， 360企业版， 用友erp-nc， 深信服ssl-vpn， 天融信VPN， Array_Networks_VPN， 天融信防火墙， o2security_vpn， zabbix， juniper_vpn， F5_BIGIP， CEMIS， DI-804HV， CCProxy， 梭子鱼设备， Synology_NAS， zenoss， Splunk， OpenMas， Ultra_Electronics， NOALYSS， Nagios， ALCASAR， orocrm， Adiscon_LogAnalyzer， Munin， opennms， MRTG， ganglia， 元年财务软件， UFIDA_NC， Webmin， 锐捷应用控制引擎， Storm， 网神VPN， FortiWeb， Centreon， FortiGuard， PineApp， ntop， CDR-Stats， GenieATM， Spark_Worker， Spark_Master， Kibana， CISCO_VPN， UcSTAR， i@Report， 帕拉迪统一安全管理和综合审计系统， openEAP， Dorado， 金龙卡金融化一卡通网站查询子系统， 一采通， 埃森诺网络服务质量检测系统， 惠尔顿上网行为管理系统， ACSNO网络探针， 绿盟下一代防火墙， 用友U8， 华为_HUAWEI_SRG1220， 华为_HUAWEI_SRG2220， 华为_HUAWEI_ASG2100， 华为_HUAWEI_SRG3250， 华为_HUAWEI_ASG2050， 华为（HUAWEI）安全设备， 华为（HUAWEI）Secoway设备， Fireeye， CDN蓝讯， 网宿， 帝联， 快网， Webluker， 西部数码， gocdn， Powercdn， Akamai， QingCloud， amazon-cloudfront， Web服务器Sun[tm]， ZendServer， squid， JBoss_AS， oracle_applicaton_server， IIS， nginx， tomcat， Apache， Tengine， IBM_HTTP_Server， GSE， LiteSpeed， Microsoft-HTTPAPI， ngx_openresty， Zeus， Resin， Netscape-Enterprise， Phusion， webrick， Jetty， Sun-ONE-Web-Server， Oracle-Application-Server， JBoss， kangle反向代理， Varnish， Aicache， SJSWS_ OiWS， AOLserver， Lotus-Domino， gunicorn， Allegro-Software-RomPager， Starlet， nginx_admin， FortiWeb， GlassFish， Privoxy， 东方通应用服务器TongWeb， Mbedthis-Appweb， 网站防火墙WAF一启快， 360主机卫士， 安全狗， Websecurity_WAF， webray， weidun， 安慧网盾， Safe3WAF， AnZuWAF， DnP Firewall， Kerio_WinRoute_Firewall， Dotdefender， Citrix_Netscaler， Mod_Security， PaloAlto_Firewall， WebKnight， Sucuri， 梭子鱼防火墙， 云锁， 路由器dd-wrt， 锐捷NBR路由器， mikrotik， 中兴路由器， h3c路由器， jcg无线路由器， Comcast_Business_Gateway， AirLink_modem， CMSphpshe， ThinkSAAS， e-tiller， DouPHP， twcms， SiteServer， Joomla， HDWiki， kesionCMS， CMSTop， ESPCMS， 74cms， Foosun， PhpCMS， Hanweb， Drupal， cmseasy， wordpress， DedeCMS， ASPCMS， MetInfo， Npoint， 小蚂蚁， 捷点JCMS， 帝国EmpireCMS， JEECMS， emlog， IdeaCMS， TCCMS， DIYWAP， supesite， webplus， Dolibarr， ExpressionEngine， iAPPS， Liferay， Telerik Sitefinity， PageAdmin， sdcms， EnterCRM， 易普拉格科研管理系统， 苏亚星校园管理系统， 313自助建站， trs_wcm， we7， 1024cms， 360webfacil_360WebManager， 6kbbs， ABO_CMS， Acidcat_CMS， bit-service， 云因网上书店， DotNetNuke， plone， Kooboocms， unknown_cms， chanzhi， unknown_cms_rcms， MediaWiki， Typecho， Z-Blog， Z-BlogPHP， EleanorCMS， BitrixSiteManager， FOXI BIZzz， BPanelCMS， SubrionCMS， WMSN， TwilightCMS， TechartCMS， 2z project， phpDocumentor， 微门户， Osclass， webEdition， orocrm， 创星伟业校园网群， BoyowCMS， 正方教务管理系统， UFIDA_NC， phpweb， weebly， 地平线CMS， HIMS酒店云计算服务， Tipask， 北创图书检索系统， squarespace建站， 微普外卖点餐系统， 逐浪zoomla， Zikula_CMS， mozartframework， UMI.CMS， EasywebCMS， synkronvia， sitecore， MuraCMS， irecms， typo3， SamanPortal， 北京清科锐华CEMIS， ThinkSNS， asp168欧虎， 擎天电子政务， easysite， 北京阳光环球建站系统， MaticsoftSNS_动软分享社区， FineCMS， Diferior， DokuWiki， WebsiteBaker-CMS， concrete5， 国家数字化学习资源中心系统， 某通用型政府cms， PigCms， 天柏在线培训/考试系统， 万户网络， rcms， 全国烟草系统， O2OCMS， 一采通， 视频监控EdmWebVideo， iDVR， edvr， AVCON6， Polycom， Plesk， techbridge， NETSurveillance， 海康威视（Hikvision）， nvdvr， DVR camera， TRSMAS， Macrec_DVR， Aethra_Telecommunications_Operating_System， ECOR， MOBOTIX_Camera， OnSSI_Video_Clients， Linksys_SPA_Configuration ， eagleeyescctv， dasannetworks， 海康威视iVMS， 佳能网络摄像头(Canon Network Cameras)， NetDvrV3， 网站云防护cloudflare， 加速乐， Incapsula， 百度云加速， 360网站卫士， 安全宝， BinarySec， Sucuri， NetteFramework， 论坛社区phpbb， phpwind， discuz， vBulletin， 6kbbs， IP.Board， 邮件系统fangmail， 腾讯企业邮箱， MDaemon， 亿邮， 网易企业邮箱， TurboMail， magicwinmail， 万网企业云邮箱， bxemail， Coremail， imailserver， exchange， Zimbra， Lotus， Roundcube， Horde， Atmail， iGENUS_webmail， anymacro， mirapoint， iredadmin(Roundcube?)， SquirrelMail， U-Mail， ExtMail， Spammark邮件信息安全网关， 站长平台360站长平台， baidu站长平台， google站长平台， sogou站长平台， 电商系统Zen Cart， ECShop， Shop7Z， 同城多用户商城， iWebShop， eaststorecreeator， buscape， 1und1， 3DCART， cart_engine， Magento， OpenCart， ECMall， PrestaShop， Bigcommerce， TinyShop， hishop， Maticsoft_Shop_动软商城， shopify， hikashop， OA系统华天动力OA(OA8000)， 通达OA， OA(a8/seeyon/ufida)， yongyoufe， pmway_E4_crm， Dolibarr， PHPOA， 78oa， WishOA， 金和协同管理平台， 泛微协同办公OA， 万户ezOFFICE， ranzhi， Zimbra， Lotus， OA企业智能办公自动化系统， ecwapoa， ezOFFICE， 3、使用场景例如Apache出来了一个高危漏洞，受影响的版本号为2.4.23,我们需要去本公司可能受此漏洞影响的Apache服务器，那么我们可以使用高级查询语句server==”Apache/2.4.23”&amp;&amp;domain=”xxx.com”，搜索结果即为本公司域名下的所有子域名可能存在Apache2.4.23版本漏洞的URL，安全人员可以对结果进行检查，及时修复漏洞。 三、FOFA的特点1.支持API查询接口，便于进行程序间的自动化查询、处理功能，进行进一步的业务分析用法如下： 所有调用都需要提供身份信息，主要是email和key，email主要是注册和登陆时填写的email，key需要用户到个人中心获取32位的hash值，即为API KEY。将上面的两个信息填入api接口中，即可获取json格式的数据。 2.支持下载功能搜索到结果之后可在右侧选择下载功能，可下载搜索到的所有数据，下载的格式支持CSV，JSON，XML格式，方便程序调用进行全网扫描。]]></content>
      <categories>
        <category>渗透测试</category>
      </categories>
      <tags>
        <tag>FOFA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[渗透测试常见端口]]></title>
    <url>%2F2019%2F08%2F07%2F%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E8%A7%81%E7%AB%AF%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[一些常见的的服务端口 1,web类(web漏洞/敏感目录)80 web80-89 web8000-9090 web 2,数据库类(扫描弱口令)1433 MSSQL1521 Oracle3306 MySQL5432 PostgreSQL 3,特殊服务类(未授权/命令执行类/漏洞)443 SSL心脏滴血873 Rsync未授权5984 CouchDB http://xxx:5984/_utils/6379 redis未授权7001,7002 WebLogic默认弱口令，反序列9200,9300 elasticsearch 参考WooYun: 多玩某服务器ElasticSearch命令执行漏洞11211 memcache未授权访问27017,27018 Mongodb未授权访问50000 SAP命令执行50070,50030 hadoop默认端口未授权访问 4,常用端口类(扫描弱口令/端口爆破)21 ftp22 SSH23 Telnet2601,2604 zebra路由，默认密码zebra3389 远程桌面端口合计详情 21 ftp 22 SSH 23 Telnet 80 web 80-89 web 161 SNMP 389 LDAP 443 SSL心脏滴血以及一些web漏洞测试 445 SMB 512,513,514 Rexec 873 Rsync未授权 1025,111 NFS 1433 MSSQL 1521 Oracle:(iSqlPlus Port:5560,7778) 2082/2083 cpanel主机管理系统登陆 （国外用较多） 2222 DA虚拟主机管理系统登陆 （国外用较多） 2601,2604 zebra路由，默认密码zebra 3128 squid代理默认端口，如果没设置口令很可能就直接漫游内网了 3306 MySQL 3312/3311 kangle主机管理系统登陆 3389 远程桌面 4440 rundeck 参考WooYun: 借用新浪某服务成功漫游新浪内网 5432 PostgreSQL 5900 vnc 5984 CouchDB http://xxx:5984/_utils/ 6082 varnish 参考WooYun: Varnish HTTP accelerator CLI 未授权访问易导致网站被直接篡改或者作为代理进入内网 6379 redis未授权 7001,7002 WebLogic默认弱口令，反序列 7778 Kloxo主机控制面板登录 8000-9090 都是一些常见的web端口，有些运维喜欢把管理后台开在这些非80的端口上 8080 tomcat/WDCP主机管理系统，默认弱口令 8080,8089,9090 JBOSS 8083 Vestacp主机管理系统 （国外用较多） 8649 ganglia 8888 amh/LuManager 主机管理系统默认端口 9200,9300 elasticsearch 参考WooYun: 多玩某服务器ElasticSearch命令执行漏洞 10000 Virtualmin/Webmin 服务器虚拟主机管理系统 11211 memcache未授权访问 27017,27018 Mongodb未授权访问 28017 mongodb统计页面 50000 SAP命令执行 50070,50030 hadoop默认端口未授权访问]]></content>
      <categories>
        <category>渗透测试</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[一些面试题]]></title>
    <url>%2F2019%2F08%2F07%2F%E4%B8%80%E4%BA%9B%E9%9D%A2%E8%AF%95%E9%A2%98%2F</url>
    <content type="text"><![CDATA[一些面试题 1.为何一个MYSQL数据库的站，只有一个80端口开放？（1）更改了端口，没扫描出来；（2）站库分离；（3）3306端口不对外开放。 2.一个成熟并且相对安全的CMS，渗透时扫目录的意义？（1）敏感文件，二级目录扫描（2）站长的误操作，比如：网站备份的压缩文件，说明.txt，二级目录可能存放着其他站点。 3.再某后台新闻编辑界面看到编辑器，应该先做什么？查看编辑器的名称版本，然后搜索公开的漏洞 4.审计上传点的元素有什么意义？有些站点的上传文件类型限制是在前端实现的，这时只要增加上传类型就能突破限制了。 5.CSRF、XSS及XEE有什么区别？以及修复方式XSS是跨站脚本攻击，用户提交的数据中可以构造代码来执行，从而实现窃取用户信息等攻击。 修复方式：对字符实体进行转义，使用HTTP Only来禁止JavaScirpt读取Cookie值，输入时校验，浏览器与Web应用端采用相同的字符编码。CSRF是跨站请求伪造攻击，XSS是实现CSRF的诸多手段中的一种，是由于没有在关键操作执行时进行是否由用户自愿发起的确认。 修复方式：筛选出需要防范CSRF的页面然后嵌入Token，再次输入密码，校验RefererXXE是XML外部实体注入攻击，XML中可以通过调用实体来请求本地或者远程内容，和远程文件保护类似，会引发相关安全问题，例如敏感文件获取。 修复方式：XML解析库在调用时严格禁止对外部实体的解析。 6.3389无法连接的几种情况（1）没开放3389端口（2）端口被修改（3）防护拦截（4）处于内网（需进行端口转发） 7.列举出owasp top10 2017（1）注入；（2）失效的身份认证；（3）敏感信息泄露；（4）XML外部实体（XXE）；（5）失效的访问控制；（6）安全配置错误；（7）跨站脚本（XSS）；（8）不安全的反序列化；（9）使用含有已知漏洞的组件（10）不足的日志记录和监控 8.说出至少三种业务逻辑漏洞，以及修复方式密码找回漏洞中存在密码允许暴力破解、存在通用型找回凭证、可以跳过验证步骤、找回凭证可以拦包获取等方式来通过厂商提供的密码找回功能来得到密码。身份认证漏洞中最常见的是会话固定攻击和Cookie仿冒，只要得到Session或Cookie即可伪造用户身份。验证码漏洞中存在验证码允许暴力破解、验证码可以通过JavaScript或者改包的方法来进行绕过。 9.目标站无防护，上传图片可以正常访问，上传脚本格式访问则403，什么原因？原因很多，有可能Web服务器配置把上传目录写死了不执行相应脚本 10.目标站禁止注册用户，找回密码处随便输入用户名提示：”此用户不存在”，你觉得这里怎么利用？先爆破用户名，再利用被爆破出来的用户名爆破密码；所有和数据库有交互的地方都有可能有注入。]]></content>
      <categories>
        <category>渗透测试</category>
      </categories>
      <tags>
        <tag>面试</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[谷歌语法]]></title>
    <url>%2F2019%2F08%2F05%2F%E8%B0%B7%E6%AD%8C%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[很多搜索引擎支持通配符号，如“”代表一连串字符，“?”代表单个字符等。*Google不支持 通配符*，只能做精确查询，关键字中的“”或者“?”会被忽略掉。 Google 对英文字符大小写不敏感，“xiaomi”和“XIAOMI”搜索的结果是一样的。 Google的关键字可以是词组（中间没有空格），也可以是句子（中间有空格），但是，用句子做关键字，必须加英文引号。如“Want xiaomi phone” Google 对一些网路上出现频率极高的英文单词，如“i”、“com”、“www”等，以及一些符号如 “*”、“.”等，作忽略处理。 如果要对忽略的关键字进行强制搜索，则需要在该关键字前加上明文的“+”号。 示例：搜索包含“Who am I ?”的网页。如果用“”who am i ?””，“Who”、“I”、“?”会被省略掉， 搜索将只用“am”作关键字，所以应该用强制搜索。如搜索：“”+who +am +i”” Google中文站和Google英文站是有区别的顾名思义中文版的google爬虫肯定搜集更多的中文网站，其搜索结果排序也是根据中国地区用户的搜索习惯来排序的。 Google按时间搜索的应用这个是一个比较常用的功能。信息过度的时代，如何成为有价值，一个是独家，一个就是时效。 Google基本语法1、加号（“+”）Google 无需用明文的“+”来表示逻辑“与”操作，只要空格就可以了。Google 默认的连接符是 AND; 意味着如果你不加其他修饰符号直接搜索的话, Google 就 会对所有的关键字同时进行搜索. 例如：搜索所有包含关键词“xiaomi”和“phone”的英文网页搜索：“xiaomi phone” 代表着 xiaomi 与phone。 注意：文章中搜索语法外面的引号仅起引用作用，不能带入搜索栏内。 2、减号（“-”）示例：搜索所有包含“xiaomi”而不含“phone”的网页 搜索：“xiaomi -phone” 代表着只含 xiaomi，不含phone 的页面。 注意：这里的“+”和“-”号，是英文字符，而不是中文字符的“＋”和“－”。此外，操作符与作用 的关键字之间，不能有空格。比如“易筋经 - 吸星大法”，搜索引擎将视为逻辑“与”操作，中 间的“-”被忽略。 3、ORGoogle 用大写的“OR”表示逻辑“或”操作，但是这种OR的方式中文搜索会有内容展示的BUG。 如果要从几个关键字中指定任中一个, 可以使用 OR 连接符. 同时你也可以使用电脑编程 里管道符号 “|” 来表示 OR 的功能. 示例：搜索包含“mobile”或者“phone”、或者两者均有网页内容。 搜索：“mobileOR phone” 这种方法使用的比较少，不能使用在品牌关键词上，如”xiaomi Phone OR HuaweiPhone”，这样推荐给你的信息基本是前者，因为这些都属于商业一直在增长。 高级Google搜索语法1、allintextallintext的意思是以网页正文内容中的冒个字符作为搜索条件，例如“allintext：天气” 2、intitle,allintitle只有当网页标题包含所搜索第关键字时，它才会出现在搜索结果里。intitle 只要包含即可，allintitle需要全部匹配。 3、cachecache的意思是缓存，例如“cache：www.baidu.com”。 4、definedefine的意思是词语的定义，例如：“define：中国” 5、filetypefiletype的意思是搜索指定格式的文件，例如“filetype：MDB”，类似于这样的搜索通常都可以直接下载，我们这样搜索很可能搜索到别人的数据口哦！ 6、infoinfo的意思是查找指定的网站基本信息，例如：“info：www.baidu.com”。 7、linklink的意思是查看连接的网站。例如“link：www.baidu.com” 8、relatedrelated的意思是返回主页上连接的内容，例如“related：www.baidu.com” 9、sitesite的作用非常的好，它可以制定一个特定的区域进行搜索，也就是说如果site后面是一个网站，那么我们得到的内容就是关于这个网站的，例如：“site：www.baidu.com” 10、inurlinurl的作用是搜索得到你搜索内容的网址，例如：“inurl：asp”]]></content>
      <categories>
        <category>网络基础</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[HTTP响应码]]></title>
    <url>%2F2019%2F08%2F05%2FHTTP%E5%93%8D%E5%BA%94%E7%A0%81%2F</url>
    <content type="text"><![CDATA[响应码由三位十进制数字组成，它们出现在由HTTP服务器发送的响应的第一行。 响应码分五种类型，由它们的第一位数字表示：1xx：（临时响应）表示临时响应并需要请求者继续执行操作的状态代码。 100 :(继续)请求者应当继续提出请求。服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。 101:(切换协议)请求者已要求服务器切换协议，服务器已确认并准备切换。 2xx：（成功）行为被成功地接受、理解和采纳 200 （成功）服务器已成功处理了请求。通常，这表示服务器提供了请求的网页。对GET和POST请求的应答文档跟在后面。 201 （已创建）请求成功并且服务器创建了新的资源。Location头给出了它的URL。 202 （已接受）服务器已接受请求，但尚未处理。 203 （非授权信息）服务器已成功处理了请求，但返回的信息可能来自另一来源。一些应答头可能不正确，因为使用的是文档的拷贝 204 （无内容）没有新文档，浏览器应该继续显示原来的文档。如果用户定期地刷新页面，而Servlet可以确定用户文档足够新，这个状态代码是很有用的。 205 （重置内容）没有新的内容，但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容。 206 （部分内容）服务器成功处理了部分 GET 请求。 3xx：(重定向)为了完成请求，必须进一步执行的动作 。通常，这些状态代码用来重定向。 300 （多种选择）针对请求，服务器可执行多种操作。服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。如果服务器要提出优先选择，则应该在Location应答头指明。 301 （永久移动）请求的网页已永久移动到新位置。新的URL在Location头中给出，服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 302 （临时移动）类似于301，但新的URL应该被视为临时性的替代，而不是永久性的。服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 303 （查看其他位置）类似于301/302，不同之处在于，如果原来的请求是POST，Location头指定的重定向目标文档应该通过GET提取。 304 （未修改）客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。自从上次请求后，请求的网页未修改过。服务器告诉客户，原来缓冲的文档还可以继续使用。服务器返回此响应时，不会返回网页内容。 305 （使用代理）客户请求的文档应该通过Location头所指明的代理服务器提取。 307 （临时重定向）和302相同。许多浏览器会错误地响应302应答进行重定向，即使原来的请求是POST，即使它实际上只能在POST请求的应答是303时 才能重定向。由于这个原因，HTTP 1.1新增了307，以便更加清除地区分几个状态代码：当出现303应答时，浏览器可以跟随重定向的GET和POST请求；如果是307应答，则浏览器只 能跟随对GET请求的重定向。（HTTP 1.1新） 4xx：(请求错误)客户端错误，请求包含语法错误或者请求无法实现 400 （错误请求）服务器不理解请求的语法。 401 （未授权）请求要求身份验证。对于需要登录的网页，服务器可能返回此响应。 403 （禁止）资源不可用。服务器理解客户的请求，但拒绝处理它。通常由于服务器上文件或目录的权限设置导致。 404 （未找到）服务器找不到请求的网页。 405 （方法禁用）禁用请求中指定的方法。 406 （不接受）指定的资源已经找到，但它的MIME类型和客户在Accpet头中所指定的不兼容 407 （需要代理授权）此状态代码与 401（未授权）类似，但指定请求者应当授权使用代理。 408 （请求超时） 在服务器许可的等待时间内，客户一直没有发出任何请求。客户可以在以后重复同一请求。 409 （冲突）服务器在完成请求时发生冲突。通常和PUT请求有关。由于请求和资源的当前状态相冲突，因此请求不能成功。服务器必须在响应中包含有关冲突的信息。 410 （已删除）所请求的文档已经不再可用，而且服务器不知道应该重定向到哪一个地址。它和404的不同在于，返回410表示文档永久地离开了指定的位置，而404表示由于未知的原因文档不可用。 411 （需要有效长度）服务器不接受不含有效内容长度标头字段的请求。 412 （未满足前提条件）请求头中指定的一些前提条件失败 413 （请求实体过大）目标文档的大小超过服务器当前愿意处理的大小。如果服务器认为自己能够稍后再处理该请求，则应该提供一个Retry-After头 414 （请求的 URI 过长）请求的 URI（通常为网址）过长，服务器无法处理。 415 （不支持的媒体类型）请求的格式不受请求页面的支持。 416 （请求范围不符合要求）服务器不能满足客户在请求中指定的Range头。 417 （未满足期望值）服务器未满足”期望”请求标头字段的要求。 5xx：(服务器错误)服务器不能实现一种明显无效的请求,这些状态代码表示服务器在尝试处理请求时发生内部错误。这些错误可能是服务器本身的错误，而不是请求出错。 500 （服务器内部错误）服务器遇到错误，无法完成请求。 501 （尚未实施）服务器不具备完成请求的功能。例如，服务器无法识别请求方法时可能会返回此代码。 502 （错误网关）服务器作为网关或代理，从上游服务器收到无效响应。 503 （服务不可用）服务器目前无法使用（由于超载或停机维护）。通常，这只是暂时状态。 504 （网关超时）服务器作为网关或代理，但是没有及时从上游服务器收到请求。 505 （HTTP 版本不受支持）服务器不支持请求中所用的 HTTP 协议版本。]]></content>
      <categories>
        <category>网络基础</category>
      </categories>
  </entry>
</search>
